(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const r of n.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function o(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerPolicy&&(n.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?n.credentials="include":i.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(i){if(i.ep)return;i.ep=!0;const n=o(i);fetch(i.href,n)}})();let u=(t,e=500,o=0)=>{t.classList.contains("--slide")||(t.classList.add("--slide"),t.style.transitionProperty="height, margin, padding",t.style.transitionDuration=e+"ms",t.style.height=`${t.offsetHeight}px`,t.offsetHeight,t.style.overflow="hidden",t.style.height=o?`${o}px`:"0px",t.style.paddingTop=0,t.style.paddingBottom=0,t.style.marginTop=0,t.style.marginBottom=0,window.setTimeout(()=>{t.hidden=!o,o||t.style.removeProperty("height"),t.style.removeProperty("padding-top"),t.style.removeProperty("padding-bottom"),t.style.removeProperty("margin-top"),t.style.removeProperty("margin-bottom"),o||t.style.removeProperty("overflow"),t.style.removeProperty("transition-duration"),t.style.removeProperty("transition-property"),t.classList.remove("--slide"),document.dispatchEvent(new CustomEvent("slideUpDone",{detail:{target:t}}))},e))},f=(t,e=500,o=0)=>{if(!t.classList.contains("--slide")){t.classList.add("--slide"),t.hidden=t.hidden?!1:null,o&&t.style.removeProperty("height");let s=t.offsetHeight;t.style.overflow="hidden",t.style.height=o?`${o}px`:"0px",t.style.paddingTop=0,t.style.paddingBottom=0,t.style.marginTop=0,t.style.marginBottom=0,t.offsetHeight,t.style.transitionProperty="height, margin, padding",t.style.transitionDuration=e+"ms",t.style.height=s+"px",t.style.removeProperty("padding-top"),t.style.removeProperty("padding-bottom"),t.style.removeProperty("margin-top"),t.style.removeProperty("margin-bottom"),window.setTimeout(()=>{t.style.removeProperty("height"),t.style.removeProperty("overflow"),t.style.removeProperty("transition-duration"),t.style.removeProperty("transition-property"),t.classList.remove("--slide"),document.dispatchEvent(new CustomEvent("slideDownDone",{detail:{target:t}}))},e)}},v=(t,e=500)=>t.hidden?f(t,e):u(t,e),a=!0,y=(t=500)=>{document.documentElement.hasAttribute("data-scrolllock")?p(t):h(t)},p=(t=500)=>{if(a){const e=document.querySelectorAll("[data-lp]");setTimeout(()=>{e.forEach(o=>{o.style.paddingRight=""}),document.body.style.paddingRight="",document.documentElement.removeAttribute("data-scrolllock")},t),a=!1,setTimeout(function(){a=!0},t)}},h=(t=500)=>{if(a){const e=document.querySelectorAll("[data-lp]"),o=window.innerWidth-document.body.offsetWidth+"px";e.forEach(s=>{s.style.paddingRight=o}),document.body.style.paddingRight=o,document.documentElement.setAttribute("data-scrolllock",""),a=!1,setTimeout(function(){a=!0},t)}};function w(t,e){const o=Array.from(t).filter(n=>n.dataset[e]).map(n=>{const[r,l="max"]=n.dataset[e].split(",");return{value:r,type:l,item:n}});if(o.length===0)return[];const s=o.map(({value:n,type:r})=>`(${r}-width: ${n}px),${n},${r}`);return[...new Set(s)].map(n=>{const[r,l,d]=n.split(","),m=window.matchMedia(r);return{itemsArray:o.filter(c=>c.value===l&&c.type===d),matchMedia:m}})}function P(){document.addEventListener("click",function(t){a&&t.target.closest("[data-menu]")&&(y(),document.documentElement.toggleAttribute("data-menu-open"))})}document.querySelector("[data-menu]")&&window.addEventListener("load",P);function g(){const t=document.querySelector(".menu__item--dropdown");if(!t)return;if(!("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0))t.addEventListener("mouseenter",()=>{t.classList.add("open")}),t.addEventListener("mouseleave",()=>{t.classList.remove("open")});else{const o=t.querySelector(".menu__link");o&&(o.addEventListener("click",function(s){s.preventDefault();const i=t.classList.contains("open");document.querySelectorAll(".menu__item--dropdown.open").forEach(n=>{n!==t&&n.classList.remove("open")}),i?t.classList.remove("open"):t.classList.add("open")}),document.addEventListener("click",function(s){t.contains(s.target)||t.classList.remove("open")}))}}window.addEventListener("DOMContentLoaded",g);function L(){const t=document.querySelector("[data-header-scroll]"),e=t.hasAttribute("data-header-scroll-show"),o=t.dataset.flsHeaderScrollShow?t.dataset.flsHeaderScrollShow:500,s=t.dataset.flsHeaderScroll?t.dataset.flsHeaderScroll:1;let i=0,n;document.addEventListener("scroll",function(r){const l=window.scrollY;clearTimeout(n),l>=s?(t.classList.contains("--header-scroll")||t.classList.add("--header-scroll"),e&&(l>i?t.classList.contains("--header-show")&&t.classList.remove("--header-show"):t.classList.contains("--header-show")||t.classList.add("--header-show"),n=setTimeout(()=>{t.classList.contains("--header-show")||t.classList.add("--header-show")},o))):(t.classList.contains("--header-scroll")&&t.classList.remove("--header-scroll"),e&&t.classList.contains("--header-show")&&t.classList.remove("--header-show")),i=l<=0?0:l})}document.querySelector("[data-header-scroll]")&&window.addEventListener("load",L);class b{constructor(e=".popup"){if(this.popup=document.querySelector(e),this.videoPopup=document.querySelector("#popupVideo"),this.forms=document.querySelectorAll("form"),!this.popup){console.error(`Popup with selector "${e}" not found`);return}this.init()}init(){this.setupPopup(),this.setupVideoPopup(),this.bindFormsEvents(),this.bindModalEvents()}setupPopup(){this.popup.setAttribute("aria-hidden","true"),this.popup.setAttribute("role","dialog"),this.popup.setAttribute("aria-modal","true"),this.bindPopupEvents()}setupVideoPopup(){if(!this.videoPopup){console.warn("Video popup #popupVideo not found");return}this.videoPopup.setAttribute("aria-hidden","true"),this.videoPopup.setAttribute("role","dialog"),this.videoPopup.setAttribute("aria-modal","true"),this.bindVideoPopupEvents()}bindFormsEvents(){this.forms.forEach(e=>{e.addEventListener("submit",o=>this.handleFormSubmit(o,e))})}bindModalEvents(){document.addEventListener("click",e=>{const o=e.target.closest("[data-modal]");o&&(e.preventDefault(),this.handleModalClick(o))})}handleModalClick(e){const o=e.dataset.modal,s=e.dataset.modalIdYt;o==="#popupVideo"&&s&&this.openVideoPopup(s)}openVideoPopup(e){if(!this.videoPopup)return;const o=`https://www.youtube.com/embed/${e}?autoplay=1&rel=0`;let s=this.videoPopup.querySelector(".video-container");if(!s){s=document.createElement("div"),s.className="video-container";let n=this.videoPopup.querySelector(".popup__content");n||(n=document.createElement("div"),n.className="popup__content",this.videoPopup.appendChild(n)),n.appendChild(s)}const i=document.createElement("iframe");i.src=o,i.width="100%",i.height="100%",i.frameBorder="0",i.allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",i.allowFullscreen=!0,i.title="YouTube video player",s.innerHTML="",s.appendChild(i),this.showVideoPopup()}showVideoPopup(){this.videoPopup&&(document.documentElement.classList.add("popup-show"),this.videoPopup.classList.add("popup_show"),this.videoPopup.setAttribute("aria-hidden","false"),this.focusFirstElementInPopup(this.videoPopup),document.body.style.overflow="hidden")}closeVideoPopup(){if(!this.videoPopup)return;this.videoPopup.classList.remove("popup_show"),document.documentElement.classList.remove("popup-show"),this.videoPopup.setAttribute("aria-hidden","true");const e=this.videoPopup.querySelector(".video-container");e&&(e.innerHTML=""),document.body.style.overflow=""}bindVideoPopupEvents(){if(!this.videoPopup)return;const e=this.videoPopup.querySelector("[data-popup-close]");e&&e.addEventListener("click",()=>this.closeVideoPopup()),this.videoPopup.addEventListener("click",o=>{o.target===this.videoPopup&&this.closeVideoPopup()})}bindPopupEvents(){const e=this.popup.querySelector("[data-popup-close]");e&&e.addEventListener("click",()=>this.closePopup()),this.popup.addEventListener("click",o=>{o.target===this.popup&&this.closePopup()}),document.addEventListener("keydown",o=>{o.key==="Escape"&&(this.isVideoPopupOpen()?this.closeVideoPopup():this.isPopupOpen()&&this.closePopup())})}handleFormSubmit(e,o){e.preventDefault(),this.clearFormErrors(o);const s=o.querySelectorAll("[required]");this.validateRequiredFields(s)&&(this.showPopup(),o.reset())}validateRequiredFields(e){let o=!0;return e.forEach(s=>{this.getFieldValue(s)?this.clearFieldError(s):(this.showFieldError(s),o=!1)}),o}getFieldValue(e){switch(e.type){case"checkbox":case"radio":return e.checked;case"select-one":case"select-multiple":return e.value&&e.value!=="";default:return e.value&&e.value.trim()!==""}}showFieldError(e){e.classList.add("error"),e.setAttribute("aria-invalid","true")}clearFieldError(e){e.classList.remove("error"),e.removeAttribute("aria-invalid")}clearFormErrors(e){e.querySelectorAll(".error").forEach(s=>this.clearFieldError(s))}showPopup(){document.documentElement.classList.add("popup-show"),this.popup.classList.add("popup_show"),this.popup.setAttribute("aria-hidden","false"),this.focusFirstElementInPopup(this.popup),document.body.style.overflow="hidden"}closePopup(){this.popup.classList.remove("popup_show"),document.documentElement.classList.remove("popup-show"),this.popup.setAttribute("aria-hidden","true"),document.body.style.overflow=""}isPopupOpen(){return this.popup.classList.contains("popup_show")}isVideoPopupOpen(){return this.videoPopup&&this.videoPopup.classList.contains("popup_show")}focusFirstElementInPopup(e){const o=e.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');o.length>0&&o[0].focus()}extractYouTubeId(e){const o=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/,s=e.match(o);return s&&s[2].length===11?s[2]:null}}document.addEventListener("DOMContentLoaded",function(){new b(".popup")});class E{constructor(e={}){this.options={headerSelector:"header.header",headerScrollClass:"--header-scroll",menuOpenAttribute:"data-menu-open",scrollSpeed:500,offsetTop:0,homePage:"/",...e},this.init()}init(){this.bindEvents(),this.handlePageLoad()}bindEvents(){document.addEventListener("click",e=>this.handleNavigationClick(e)),document.addEventListener("watcherCallback",e=>this.handleWatcherCallback(e))}handleNavigationClick(e){const s=e.target.closest("[data-scrollto]");if(!s)return;e.preventDefault();const i=this.getSelector(s),n=s.dataset.scrolltoPage||this.options.homePage,r=s.hasAttribute("data-scrollto-header"),l=parseInt(s.dataset.scrolltoSpeed)||this.options.scrollSpeed,d=parseInt(s.dataset.scrolltoTop)||this.options.offsetTop;if(!i){console.warn("UniversalNavigation: Empty selector provided",s);return}this.closeMenu(),this.isCurrentPage(n)?this.scrollToSection(i,r,l,d):this.navigateToPageWithSection(n,i)}handleWatcherCallback(e){if(!e.detail)return;const o=e.detail.entry,s=o.target;if(s.dataset.flsWatcher!=="navigator")return;let i=null;if(s.id)i=document.querySelector(`[data-scrollto="#${s.id}"]`);else if(s.classList.length)for(const n of s.classList){const r=document.querySelector(`[data-scrollto=".${n}"]`);if(r){i=r;break}}i&&(o.isIntersecting?i.classList.add("--navigator-active"):i.classList.remove("--navigator-active"))}handlePageLoad(){const e=this.getHash();e&&setTimeout(()=>{let o=null;document.querySelector(`#${e}`)?o=`#${e}`:document.querySelector(`.${e}`)&&(o=`.${e}`),o&&this.scrollToSection(o,!1,this.options.scrollSpeed,this.options.offsetTop)},100)}getSelector(e){var o;return e.dataset.scrollto||e.dataset.flsScrollto||((o=e.getAttribute("href"))==null?void 0:o.replace("#","#"))||""}isCurrentPage(e){const o=window.location.pathname,s=new URL(e,window.location.origin).pathname;return o===s}navigateToPageWithSection(e,o){const s=o.replace(/^[#.]/,""),i=`${e}#${s}`;sessionStorage.setItem("scrollToSection",JSON.stringify({selector:o,timestamp:Date.now()})),window.location.href=i}scrollToSection(e,o=!1,s=500,i=0){const n=document.querySelector(e);if(!n){console.warn(`UniversalNavigation: Element with selector "${e}" not found`);return}let r=0;o&&(r=this.getHeaderHeight());let l=n.getBoundingClientRect().top+window.pageYOffset;l=r?l-r:l,l=i?l-i:l,window.scrollTo({top:l,behavior:"smooth"}),console.log(`UniversalNavigation: Scrolled to ${e}`)}getHeaderHeight(){const e=document.querySelector(this.options.headerSelector);if(!e)return 0;if(e.classList.contains(this.options.headerScrollClass))return e.offsetHeight;e.style.cssText="transition-duration: 0s;",e.classList.add(this.options.headerScrollClass);const o=e.offsetHeight;return e.classList.remove(this.options.headerScrollClass),setTimeout(()=>{e.style.cssText=""},0),o}closeMenu(){document.documentElement.hasAttribute(this.options.menuOpenAttribute)&&(typeof bodyUnlock=="function"&&bodyUnlock(),document.documentElement.removeAttribute(this.options.menuOpenAttribute))}getHash(){return window.location.hash.replace("#","")}}document.addEventListener("DOMContentLoaded",function(){window.universalNavigation=new E({homePage:"/",headerSelector:"header.header",scrollSpeed:800,offsetTop:20})});export{u as a,a as b,h as c,w as d,p as e,v as s};
